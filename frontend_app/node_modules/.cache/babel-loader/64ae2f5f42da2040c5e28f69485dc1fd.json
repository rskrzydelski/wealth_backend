{"ast":null,"code":"var _jsxFileName = \"/Users/rafalskrzydelski/development/django/wealth_frontend/src/app/auth/components/LoginUser.js\";\nimport React, { Component } from 'react';\nimport * as api from '../../../api/api';\nimport { loginUrl } from '../../../api/routes';\nimport { Container, TitleHeader, TextInput, Button } from './styles';\n\nconst AuthForm = props => {\n  // const labels = props.labels.map((lb) => {\n  //   return (\n  //     <label>\n  //       {lb.title}\n  //       <TextInput\n  //         type={lb.type}\n  //         name={lb.name}\n  //         value={lb.value}\n  //         onChange={lb.onChangeClb}\n  //       />\n  //     </label>\n  //   )\n  //   }\n  // )\n  console.log(props.labels);\n  return React.createElement(React.Fragment, null, React.createElement(TitleHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, props.labels));\n};\n\nclass LoginUser extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.state = {\n      credentials: {\n        username: '',\n        password: '',\n        email: ''\n      }\n    };\n  }\n\n  async handleLogin(event) {\n    const onAppAuthChangeInfo = this.props.onAppAuthChangeInfo;\n    const auth = await api.post(loginUrl(), this.state.credentials);\n    console.log(auth);\n    console.log(auth.token);\n    console.log(auth.user.username); // if (user.key !== undefined) {\n    // localStorage.setItem('token', user.key)\n    // localStorage.setItem('username', this.state.credentials.username)\n    // if (onAppAuthChangeInfo !== undefined) {\n    // onAppAuthChangeInfo()\n    // }\n    // } else {\n    // localStorage.clear()\n    // }\n\n    this.setState({\n      credentials: {\n        username: '',\n        password: '',\n        email: ''\n      }\n    });\n  }\n\n  handleChange(event) {\n    const cr = this.state.credentials;\n    cr[event.target.name] = event.target.value;\n    this.setState({\n      credentials: cr\n    });\n  }\n\n  render() {\n    const lbs = [{\n      title: 'one',\n      type: 'text',\n      name: 'dupa1',\n      value: this.state.credentials.username,\n      onChangeClb: this.handleChange\n    }, {\n      title: 'two',\n      type: 'text',\n      name: 'dupa2',\n      value: this.state.credentials.username,\n      onChangeClb: this.handleChange\n    }];\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(AuthForm, {\n      title: \"Login\",\n      labels: lbs,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Username\", React.createElement(TextInput, {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.credentials.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Email\", React.createElement(TextInput, {\n      type: \"email\",\n      name: \"email\",\n      value: this.state.credentials.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Password\", React.createElement(TextInput, {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.credentials.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.handleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Login\"));\n  }\n\n}\n\nexport default LoginUser;","map":{"version":3,"sources":["/Users/rafalskrzydelski/development/django/wealth_frontend/src/app/auth/components/LoginUser.js"],"names":["React","Component","api","loginUrl","Container","TitleHeader","TextInput","Button","AuthForm","props","console","log","labels","LoginUser","constructor","handleLogin","bind","handleChange","state","credentials","username","password","email","event","onAppAuthChangeInfo","auth","post","token","user","setState","cr","target","name","value","render","lbs","title","type","onChangeClb"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport * as api from '../../../api/api'\nimport { loginUrl } from '../../../api/routes'\n\nimport { Container, TitleHeader, TextInput, Button } from './styles'\n\nconst AuthForm = (props) => {\n\n  // const labels = props.labels.map((lb) => {\n  //   return (\n  //     <label>\n  //       {lb.title}\n  //       <TextInput\n  //         type={lb.type}\n  //         name={lb.name}\n  //         value={lb.value}\n  //         onChange={lb.onChangeClb}\n  //       />\n  //     </label>\n  //   )\n  //   }\n  // )\n  console.log(props.labels)\n  return (\n    <>\n      <TitleHeader>{props.labels}</TitleHeader>\n      {/* {labels} */}\n    </>\n  )\n}\n\nclass LoginUser extends Component {\n  constructor (props) {\n    super(props)\n    this.handleLogin = this.handleLogin.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.state = {\n      credentials: { username: '', password: '', email: '' }\n    }\n  }\n\n  async handleLogin (event) {\n    const { onAppAuthChangeInfo } = this.props\n    const auth = await api.post(loginUrl(), this.state.credentials)\n    console.log(auth)\n    console.log(auth.token)\n    console.log(auth.user.username)\n    // if (user.key !== undefined) {\n      // localStorage.setItem('token', user.key)\n      // localStorage.setItem('username', this.state.credentials.username)\n      // if (onAppAuthChangeInfo !== undefined) {\n        // onAppAuthChangeInfo()\n      // }\n    // } else {\n      // localStorage.clear()\n    // }\n    this.setState({\n      credentials: { username: '', password: '', email: '' }\n    })\n  }\n\n  handleChange (event) {\n    const cr = this.state.credentials\n    cr[event.target.name] = event.target.value\n    this.setState({ credentials: cr })\n  }\n\n  render () {\n    const lbs = [\n      {\n        title: 'one',\n        type: 'text',\n        name: 'dupa1',\n        value: this.state.credentials.username,\n        onChangeClb: this.handleChange\n      },\n      {\n        title: 'two',\n        type: 'text',\n        name: 'dupa2',\n        value: this.state.credentials.username,\n        onChangeClb: this.handleChange\n      }\n    ]\n\n    return (\n      <Container>\n        <AuthForm title='Login' labels={lbs} />\n        <label>\n          Username\n          <TextInput\n            type='text'\n            name='username'\n            value={this.state.credentials.username}\n            onChange={this.handleChange}\n          />\n        </label>\n        <br />\n        <label>\n          Email\n          <TextInput\n            type='email'\n            name='email'\n            value={this.state.credentials.email}\n            onChange={this.handleChange}\n          />\n        </label>\n        <br />\n        <label>\n          Password\n          <TextInput\n            type='password'\n            name='password'\n            value={this.state.credentials.password}\n            onChange={this.handleChange}\n          />\n        </label>\n        <Button onClick={this.handleLogin}>Login</Button>\n      </Container>\n    )\n  }\n}\n\nexport default LoginUser\n"]},"metadata":{},"sourceType":"module"}