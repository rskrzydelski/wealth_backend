{"ast":null,"code":"var _jsxFileName = \"/Users/rafalskrzydelski/development/django/wealth_frontend/src/app/auth/components/RegUser.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport * as api from '../../../api/api';\nimport { registerUrl } from '../../../api/routes';\nimport { Container, LoginHeader, TextInput, Button } from './styles';\n\nclass RegUser extends Component {\n  constructor(props) {\n    super(props);\n    this.handleReg = this.handleReg.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.state = {\n      register_data: {\n        username: '',\n        email: '',\n        password: '',\n        password2: '',\n        my_currency: ''\n      },\n      register_success: false\n    };\n  }\n\n  async handleReg(event) {\n    const regUser = await api.post(registerUrl(), this.state.register_data);\n    regUser.key !== undefined ? alert('User registered successfully') : alert('Register error');\n\n    if (regUser.key !== undefined) {\n      this.setState({\n        register_success: true\n      });\n      localStorage.setItem('my_currency', this.state.register_data.my_currency);\n    }\n\n    this.setState({\n      register_data: {\n        username: '',\n        email: '',\n        password: '',\n        password2: '',\n        my_currency: ''\n      }\n    });\n  }\n\n  handleChange(event) {\n    const r = this.state.register_data;\n    r[event.target.name] = event.target.value;\n    this.setState({\n      register_data: r\n    });\n  }\n\n  render() {\n    return this.state.register_success === true ? React.createElement(Redirect, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }) : React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(LoginHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Registration\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Username:\", React.createElement(TextInput, {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.register_data.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Email:\", React.createElement(TextInput, {\n      type: \"email\",\n      name: \"email\",\n      value: this.state.register_data.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Password:\", React.createElement(TextInput, {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.register_data.password1,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Password2:\", React.createElement(TextInput, {\n      type: \"password\",\n      name: \"password2\",\n      value: this.state.register_data.password2,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"My currency:\", React.createElement(TextInput, {\n      type: \"text\",\n      name: \"my_currency\",\n      value: this.state.register_data.my_currency,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.handleReg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Register\"));\n  }\n\n}\n\nexport default RegUser;","map":{"version":3,"sources":["/Users/rafalskrzydelski/development/django/wealth_frontend/src/app/auth/components/RegUser.js"],"names":["React","Component","Redirect","api","registerUrl","Container","LoginHeader","TextInput","Button","RegUser","constructor","props","handleReg","bind","handleChange","state","register_data","username","email","password","password2","my_currency","register_success","event","regUser","post","key","undefined","alert","setState","localStorage","setItem","r","target","name","value","render","password1"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport * as api from '../../../api/api'\nimport { registerUrl } from '../../../api/routes'\n\nimport { Container, LoginHeader, TextInput, Button } from './styles'\n\nclass RegUser extends Component {\n  constructor (props) {\n    super(props)\n    this.handleReg = this.handleReg.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.state = {\n      register_data: { username: '', email: '', password: '', password2: '', my_currency: '' },\n      register_success: false\n    }\n  }\n\n  async handleReg (event) {\n    const regUser = await api.post(registerUrl(), this.state.register_data)\n    regUser.key !== undefined ? alert('User registered successfully') : alert('Register error')\n    if (regUser.key !== undefined) {\n      this.setState({\n        register_success: true\n      })\n      localStorage.setItem('my_currency', this.state.register_data.my_currency)\n    }\n    this.setState({\n      register_data: { username: '', email: '', password: '', password2: '', my_currency: '' }\n    })\n  }\n\n  handleChange (event) {\n    const r = this.state.register_data\n    r[event.target.name] = event.target.value\n    this.setState({ register_data: r })\n  }\n\n  render () {\n    return (\n      this.state.register_success === true\n        ? <Redirect to='/login' />\n        : <Container>\n          <LoginHeader>Registration</LoginHeader>\n          <label>\n          Username:\n            <TextInput\n              type='text'\n              name='username'\n              value={this.state.register_data.username}\n              onChange={this.handleChange}\n            />\n          </label>\n          <br />\n          <label>\n            Email:\n            <TextInput\n              type='email'\n              name='email'\n              value={this.state.register_data.email}\n              onChange={this.handleChange}\n            />\n          </label>\n          <br />\n          <label>\n            Password:\n            <TextInput\n              type='password'\n              name='password'\n              value={this.state.register_data.password1}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            Password2:\n            <TextInput\n              type='password'\n              name='password2'\n              value={this.state.register_data.password2}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            My currency:\n            <TextInput\n              type='text'\n              name='my_currency'\n              value={this.state.register_data.my_currency}\n              onChange={this.handleChange}\n            />\n          </label>\n          <Button onClick={this.handleReg}>Register</Button>\n        </Container>\n    )\n  }\n}\n\nexport default RegUser\n"]},"metadata":{},"sourceType":"module"}