{"ast":null,"code":"var _jsxFileName = \"/Users/rafalskrzydelski/development/django/wealth_frontend/src/components/auth/RegUser.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as api from '../../api/api';\nimport { registerUrl } from '../../api/routes';\nconst LoginHeader = styled.h4`\n  text-align: center;\n  margin-right: 20px;\n`;\nconst Container = styled.div`\n  background: #2b2e39;\n  margin: 0 auto;\n  width: 80%;\n  max-width: 600px;\n  padding: 14px;\n  border-radius: 14px;\n  margin-top: 14px;\n`;\nconst TextInput = styled.input`\n  padding: 5px;\n  font-size: .7em;\n  background: #232632;\n  color: #d3d4d6;\n  width: 100%;\n  margin-right: 7px;\n  margin-bottom: 10px;\n  border: 0px;\n  -webkit-apperance: none;\n`;\nconst Button = styled.button`\n  background: #232632;\n  color: #00a7fa;\n  width: 30%;\n  height: 32px;\n  font-size: 0.9em;\n  border: 2px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  margin-right: 10px;\n  margin-left: 10px;\n  display: block;\n  max-width: 300px;\n  margin: auto;\n  justify-content: center;\n  align-items: center;\n  &:hover { background: #555; }\n`;\n\nclass RegUser extends Component {\n  constructor(props) {\n    super(props);\n    this.handleReg = this.handleReg.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.state = {\n      register_data: {\n        username: '',\n        email: '',\n        password: '',\n        password2: '',\n        my_currency: ''\n      },\n      register_success: false\n    };\n  }\n\n  async handleReg(event) {\n    const regUser = await api.post(registerUrl(), this.state.register_data);\n    regUser.key !== undefined ? alert('User registered successfully') : alert('Register error');\n\n    if (regUser.key !== undefined) {\n      this.setState({\n        register_success: true\n      });\n      localStorage.setItem('my_currency', this.state.register_data.my_currency);\n    }\n\n    this.setState({\n      register_data: {\n        username: '',\n        email: '',\n        password: '',\n        password2: '',\n        my_currency: ''\n      }\n    });\n  }\n\n  handleChange(event) {\n    const r = this.state.register_data;\n    r[event.target.name] = event.target.value;\n    this.setState({\n      register_data: r\n    });\n  }\n\n  render() {\n    return this.state.register_success === true ? React.createElement(Redirect, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }) : React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(LoginHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Registration\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Username:\", React.createElement(TextInput, {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.register_data.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Email:\", React.createElement(TextInput, {\n      type: \"email\",\n      name: \"email\",\n      value: this.state.register_data.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Password:\", React.createElement(TextInput, {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.register_data.password1,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Password2:\", React.createElement(TextInput, {\n      type: \"password\",\n      name: \"password2\",\n      value: this.state.register_data.password2,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"My currency:\", React.createElement(TextInput, {\n      type: \"text\",\n      name: \"my_currency\",\n      value: this.state.register_data.my_currency,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this.handleReg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Register\"));\n  }\n\n}\n\nexport default RegUser;","map":{"version":3,"sources":["/Users/rafalskrzydelski/development/django/wealth_frontend/src/components/auth/RegUser.js"],"names":["React","Component","Redirect","styled","api","registerUrl","LoginHeader","h4","Container","div","TextInput","input","Button","button","RegUser","constructor","props","handleReg","bind","handleChange","state","register_data","username","email","password","password2","my_currency","register_success","event","regUser","post","key","undefined","alert","setState","localStorage","setItem","r","target","name","value","render","password1"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport styled from 'styled-components'\n\nimport * as api from '../../api/api'\nimport { registerUrl } from '../../api/routes'\n\nconst LoginHeader = styled.h4`\n  text-align: center;\n  margin-right: 20px;\n`\nconst Container = styled.div`\n  background: #2b2e39;\n  margin: 0 auto;\n  width: 80%;\n  max-width: 600px;\n  padding: 14px;\n  border-radius: 14px;\n  margin-top: 14px;\n`\n\nconst TextInput = styled.input`\n  padding: 5px;\n  font-size: .7em;\n  background: #232632;\n  color: #d3d4d6;\n  width: 100%;\n  margin-right: 7px;\n  margin-bottom: 10px;\n  border: 0px;\n  -webkit-apperance: none;\n`\n\nconst Button = styled.button`\n  background: #232632;\n  color: #00a7fa;\n  width: 30%;\n  height: 32px;\n  font-size: 0.9em;\n  border: 2px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  margin-right: 10px;\n  margin-left: 10px;\n  display: block;\n  max-width: 300px;\n  margin: auto;\n  justify-content: center;\n  align-items: center;\n  &:hover { background: #555; }\n`\n\nclass RegUser extends Component {\n  constructor (props) {\n    super(props)\n    this.handleReg = this.handleReg.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.state = {\n      register_data: { username: '', email: '', password: '', password2: '', my_currency: '' },\n      register_success: false\n    }\n  }\n\n  async handleReg (event) {\n    const regUser = await api.post(registerUrl(), this.state.register_data)\n    regUser.key !== undefined ? alert('User registered successfully') : alert('Register error')\n    if (regUser.key !== undefined) {\n      this.setState({\n        register_success: true\n      })\n      localStorage.setItem('my_currency', this.state.register_data.my_currency)\n    }\n    this.setState({\n      register_data: { username: '', email: '', password: '', password2: '', my_currency: '' }\n    })\n  }\n\n  handleChange (event) {\n    const r = this.state.register_data\n    r[event.target.name] = event.target.value\n    this.setState({ register_data: r })\n  }\n\n  render () {\n    return (\n      this.state.register_success === true\n        ? <Redirect to='/login' />\n        : <Container>\n          <LoginHeader>Registration</LoginHeader>\n          <label>\n          Username:\n            <TextInput\n              type='text'\n              name='username'\n              value={this.state.register_data.username}\n              onChange={this.handleChange}\n            />\n          </label>\n          <br />\n          <label>\n            Email:\n            <TextInput\n              type='email'\n              name='email'\n              value={this.state.register_data.email}\n              onChange={this.handleChange}\n            />\n          </label>\n          <br />\n          <label>\n            Password:\n            <TextInput\n              type='password'\n              name='password'\n              value={this.state.register_data.password1}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            Password2:\n            <TextInput\n              type='password'\n              name='password2'\n              value={this.state.register_data.password2}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            My currency:\n            <TextInput\n              type='text'\n              name='my_currency'\n              value={this.state.register_data.my_currency}\n              onChange={this.handleChange}\n            />\n          </label>\n          <Button onClick={this.handleReg}>Register</Button>\n        </Container>\n    )\n  }\n}\n\nexport default RegUser\n"]},"metadata":{},"sourceType":"module"}